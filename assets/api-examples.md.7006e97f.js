import{d as g,h as y,j as $,o as r,c as u,k as c,F as _,G as x,r as E,a as m,t as b,_ as C,J as L,w as A,e as T}from"./chunks/framework.f15d8f8c.js";const S=o=>{const e=[];for(let t=0;t<o.rows.length;t++){const l=o.rows[t],f=[];for(let a=0;a<l.cells.length;a++)l.cells[a].querySelectorAll('a, button, input, select, textarea, [tabindex]:not([tabindex="-1"])').forEach(n=>{f.push({row:t,column:a,element:n})});e.push(f)}return e},V=o=>{for(const e of o)e.setAttribute("tabindex","-1")};function I(o){const e=o.querySelectorAll('a[href], button, input, select, textarea, [tabindex]:not([tabindex="-1"])');return Array.from(e)}function N(o){for(let e=0;e<o.length;e++)for(let t=0;t<o[e].length;t++){const l=o[e][t];if(l!==null&&l!=="")return l}return null}const R=g({__name:"VueTable",props:{fields:{},items:{}},setup(o){const e=y(),t=y([]),l=y(null);$(()=>{a()});const f=()=>{const n=e.value,i=I(n);V(i),i.forEach(s=>{s.removeEventListener("keydown",h)})},a=()=>{const n=e.value;t.value=S(n),console.log({focusableElements:t}),f(),t.value.length&&(l.value=N(t.value),w(l.value))},h=n=>{if(!l.value)return;const i={Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown"},{row:s,column:p}=l.value;let d=s,v=p;switch(n.key){case i.Left:v-=1;break;case i.Right:v+=1;break;case i.Up:d-=1;break;case i.Down:d+=1;break;default:return}if(d>=0&&d<t.value.length){const k=t.value[d].find(F=>F.column==v);k&&(l.value=k,w(k))}},w=n=>{f(),n.element.setAttribute("tabindex","0"),n.element.focus(),n.element.addEventListener("keydown",h)};return(n,i)=>(r(),u("table",{ref_key:"vueTableRef",ref:e},[c("tr",null,[(r(!0),u(_,null,x(n.fields,s=>(r(),u("th",null,[E(n.$slots,`header(${s.key})`,{data:s,header:s.key},()=>[m(b(s.value),1)],!0)]))),256))]),(r(!0),u(_,null,x(n.items,s=>(r(),u("tr",null,[(r(!0),u(_,null,x(n.fields,p=>(r(),u("td",null,[E(n.$slots,`cell(${p.key})`,{data:s[p.key],item:s},()=>[m(b(s[p.key]),1)],!0)]))),256))]))),256)),E(n.$slots,"tfooter",{},void 0,!0)],512))}});const D=C(R,[["__scopeId","data-v-697fe57e"]]),O=c("button",null,"Focusable element before",-1),P=["href"],M=["href"],B=c("button",null,"Focusable element after",-1),J=g({__name:"App",setup(o){const e=[{firstname:"Steve",surname:"Job",website:"https://www.apple.com/"},{firstname:"Michael",surname:"Smith",website:"https://www.apple.com/",optionalLink:"https://www.apple.com/"}],t=[{key:"firstname",value:"First name"},{key:"surname",value:"Last name"},{key:"website",value:"Website"},{key:"optionalLink",value:"Optional"}];return(l,f)=>(r(),u(_,null,[O,L(D,{fields:t,items:e},{"cell(website)":A(({item:a})=>[c("a",{href:a.website},b(a.firstname)+" "+b(a.surname),9,P)]),"cell(optionalLink)":A(({item:a})=>[a.optionalLink?(r(),u("a",{key:0,href:a.optionalLink},"Optional",8,M)):T("",!0)]),_:1}),B],64))}}),U=c("h1",{id:"component",tabindex:"-1"},[m("Component "),c("a",{class:"header-anchor",href:"#component","aria-label":'Permalink to "Component"'},"​")],-1),j=c("h2",{id:"more",tabindex:"-1"},[m("More "),c("a",{class:"header-anchor",href:"#more","aria-label":'Permalink to "More"'},"​")],-1),q=c("p",null,[m("Check out the documentation for the "),c("a",{href:"https://vitepress.dev/reference/runtime-api#usedata",target:"_blank",rel:"noreferrer"},"full list of runtime APIs"),m(".")],-1),K=JSON.parse('{"title":"Component","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"api-examples.md","filePath":"api-examples.md"}'),H={name:"api-examples.md"},W=Object.assign(H,{setup(o){return(e,t)=>(r(),u("div",null,[U,L(J),j,q]))}});export{K as __pageData,W as default};
